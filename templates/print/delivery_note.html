{% extends 'print/_base_document.html' %}
{% block title %}Delivery Note #{{ dn['id'] }}{% endblock %}
{% block doc_title %}DELIVERY NOTE{% endblock %}
{% block doc_meta_rows %}{% endblock %}

{% block parties %}
<div class="cols">
  <div class="box">
    <div class="box-title">Deliver To</div>
    <div class="box-line"><strong>{{ dn['customer_name'] }}</strong></div>
    {% if dn['customer_address'] %}<div class="box-line">{{ dn['customer_address'] }}</div>{% endif %}
    <div class="box-line">{{ (dn['customer_city'] or '') }}{% if dn['customer_state'] %}, {{ dn['customer_state'] }}{% endif %}{% if dn['customer_pincode'] %} - {{ dn['customer_pincode'] }}{% endif %}</div>
    <div class="box-line">{{ (dn['customer_country'] or '') }}</div>
    {% if dn['customer_mobile'] %}<div class="box-line">Mobile: {{ dn['customer_mobile'] }}</div>{% endif %}
    {% if dn['customer_phone'] %}<div class="box-line">Phone: {{ dn['customer_phone'] }}</div>{% endif %}
  </div>
  <div class="box">
    <div class="box-line"><strong>DN ID:</strong> {{ dn['id'] }}</div>
    <div class="box-line"><strong>DN No:</strong> {{ dn['dn_no'] or '-' }}</div>
    <div class="box-line"><strong>Date:</strong> {{ dn['date'] or '-' }}</div>
    {% if dn['so_id'] %}<div class="box-line"><strong>SO:</strong> {{ dn['so_no'] or dn['so_id'] }}</div>{% endif %}
  </div>
</div>
{% endblock %}

{% block table_headers %}
  <th class="col-sno">#</th>
  <th class="col-item">Item</th>
  <th class="col-num">Qty</th>
  <th class="col-num">UOM</th>
  <th>Description</th>
{% endblock %}

{% block table_rows %}
  {% for li in lines %}
  <tr>
    <td class="right">{{ loop.index }}</td>
    <td>{{ li['item_name'] }}</td>
    <td class="right">{{ '%.2f'|format(li['qty'] or 0) }}</td>
    <td class="right">{{ li['uom'] or '' }}</td>
    <td>{{ li['description'] or '' }}</td>
  </tr>
  {% endfor %}
{% endblock %}

{% block summary_rows %}{% endblock %}

{% block notes %}
  <div class="box-title" style="margin-top:8px">Notes</div>
  <div>{{ dn['notes'] or '' }}</div>
{% endblock %}

{% block signatures %}
  <div class="sig">Received By</div>
  <div class="sig right">Authorized Signatory</div>
{% endblock %}